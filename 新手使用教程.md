
# 群聊智能分析平台 - 新手使用教程

## 📖 教程简介
本教程将指导完全没有技术背景的新手用户，从零开始安装和使用微信群聊智能分析平台。只要按照步骤操作，您就能成功运行项目并开始分析微信群聊记录。本软件完全开源，采用纯本地网页系统架构，所有数据处理和分析均在您的电脑本地完成，无需担心数据泄露问题。

**预计完成时间：15-30分钟**

---

## 🎯 准备工作

### 您需要准备的材料：
1. **一台Windows电脑**（Windows 10+ 系统）
2. **稳定的网络连接**
3. **至少一个LLM API密钥**（DeepSeek、Gemini或Kimi任选其一）

---

## 📱 第一步：安装低版本微信

### 为什么需要低版本微信？
新版本微信加强了数据加密，ChatLog工具需要使用特定版本的微信才能正常导出聊天记录。

### 安装步骤：

1. **下载低版本微信**
   - 下载地址：https://github.com/sjzar/chatlog/issues/131
   - 下载完成后，可以直接覆盖安装。


2. **屏蔽微信自动更新**
   
   **步骤1：关闭微信内置更新**
   - 打开微信，点击左下角的"设置"
   - 找到"通用设置"
   - **取消勾选**"自动更新微信"选项

**步骤2：屏蔽微信更新服务器**
   - 按 `Win + R` 键，输入 `notepad`，按回车打开记事本
   - 在记事本中点击"文件" → "打开"
   - 在文件路径框中输入：`C:\Windows\System32\drivers\etc\hosts`
   - 点击右下角的"文件类型"下拉菜单，选择"所有文件"
   - 选择hosts文件并打开
   - 在文件末尾添加以下两行，然后保存：
     127.0.0.1 dldir1.qq.com
     127.0.0.1 dldir1v6.qq.com
     
3. **验证安装**
   - 重新启动微信
   - 登录您的微信账号
   - 确保能正常收发消息

---

## 🔧 第二步：下载并配置ChatLog

### 什么是ChatLog？
ChatLog是一个专门用于导出微信聊天记录的工具，它可以将微信群聊记录转换为可分析的格式。

### 安装步骤：

1. **下载ChatLog工具**
   - 下载地址：https://github.com/sjzar/chatlog
   - 解压到您喜欢的位置（建议放在一个单独文件夹内）

2. **运行ChatLog程序**
   - 找到解压后的ChatLog文件夹
   - 双击运行 `chatlog.exe`（或类似的可执行文件）
   - 会弹出一个Terminal UI界面（黑色命令行窗口）

3. **配置ChatLog（重要步骤）**
   
   **步骤1：启动微信**
   - 确保低版本微信正在运行
   - 登录您的微信账号

   **步骤2：解密数据**
   - 在ChatLog的Terminal界面中
   - 选择"解密数据"菜单项
   - 等待程序自动获取微信数据库密钥
   - 看到"解密成功"提示

   **步骤3：开启HTTP服务**
   - 在ChatLog界面中选择"开启 HTTP 服务"菜单项
   - 默认会在 `http://127.0.0.1:5030` 启动服务
   - 看到"HTTP服务已启动"提示

4. **验证ChatLog工作状态**
   - 打开浏览器，访问：http://127.0.0.1:5030
   - 如果能看到ChatLog的网页界面，说明配置成功
   - 保持ChatLog程序运行（不要关闭Terminal窗口）

### 💡 重要提示：
- **如果电脑端微信聊天记录不全**，可以从手机端迁移数据：
  1. 手机微信 → 设置 → 聊天 → 聊天记录备份与迁移
  2. 选择"迁移聊天记录到另一台设备"
  3. 扫码将记录迁移到电脑端微信
  4. 完成迁移后，重新运行ChatLog获取密钥并解密数据

---

## 📋 第三步：安装Node.js环境

### 什么是Node.js？
Node.js是运行本项目必需的基础环境，就像手机需要安装操作系统才能运行APP一样。

### Windows用户安装步骤：

1. **访问官网下载**
   - 打开浏览器，访问：https://nodejs.org/
   - 点击绿色的"LTS"版本下载按钮（推荐18.0+版本）

2. **安装Node.js**
   - 双击下载的`.msi`文件
   - 一路点击"Next"，保持默认设置
   - 安装完成后重启电脑

3. **验证安装**
   - 按`Win + R`键，输入`cmd`，按回车
   - 在黑色窗口中输入：`node --version`
   - 如果显示版本号（如v18.19.0），说明安装成功



---

## 📥 第四步：获取项目文件

### 下载项目
1. 从GitHub或其他渠道获取项目压缩包
2. 解压到您喜欢的位置（如桌面或文档文件夹）
3. 确保解压后的文件夹包含以下文件：
   ```
   wechat-analysis-platform/
   ├── app.js
   ├── package.json
   ├── 启动服务-终极实时版.bat
   └── 其他文件夹...
   ```

---

## 🚀 第五步：启动项目

1. **确保前置服务已启动**
   - 确保低版本微信已登录并正常运行
   - 确保ChatLog程序（chatlog.exe）已启动并成功开启HTTP服务
   - 这两个服务必须同时运行，才能获取到微信数据
2. **找到启动文件**
   - 在项目文件夹中找到`启动服务-终极实时版.bat`
   
3. **运行启动脚本**
   - 双击`启动服务-终极实时版.bat`文件
   - 会弹出一个黑色的命令行窗口

4. **等待自动检查和安装**
   - 脚本会自动检查您的环境
   - 如果是第一次运行，会自动下载安装依赖包（需要几分钟）
   - 看到"🚀 启动应用服务..."表示启动成功

### 启动成功的标志：
```
🚀 [4/4] 启动应用服务...

📱 浏览器访问地址：
   主页：http://localhost:8080
   管理面板：http://localhost:8080/settings
   任务管理：http://localhost:8080/tasks
   报告中心：http://localhost:8080/reports

⚠️  重要提示：
   • 保持此窗口打开以查看实时日志
   • 按Ctrl+C可以停止服务
   • 首次运行会自动打开配置页面
```

---

## ⚙️ 第六步：首次配置

### 自动打开配置页面
- 首次启动后，浏览器会自动打开配置页面
- 如果没有自动打开，请手动访问：http://localhost:8080/settings

### 配置ChatLog服务地址
1. **什么是ChatLog？**
   - ChatLog是一个微信聊天记录导出工具
   - 它可以将微信群聊记录导出为可分析的格式
   - 您需要先安装并运行ChatLog服务

2. **ChatLog服务配置**
   - 如果您已经安装了ChatLog，通常地址是：`http://127.0.0.1:5030`
   - 在"ChatLog服务地址"框中输入这个地址
   - 点击"测试连接"验证是否可用

3. **没有ChatLog怎么办？**
   - 前往官方仓库下载：https://github.com/sjzar/chatlog

### 配置LLM API密钥

**您至少需要配置一个LLM服务的API密钥：**

#### 选项1：DeepSeek（推荐新手）
1. **获取API密钥**
   - 访问：https://platform.deepseek.com/
   - 注册账号并登录
   - 在API管理页面创建新的API密钥
   - 复制密钥（格式类似：sk-xxxxxxxxxxxxxxxx）

2. **配置密钥**
   - 在配置页面的"DeepSeek API Key"框中粘贴密钥
   - 点击"测试连接"验证是否有效

#### 选项2：Google Gemini
1. **获取API密钥**
   - 访问：https://makersuite.google.com/app/apikey
   - 使用Google账号登录
   - 创建新的API密钥

2. **配置密钥**
   - 在"Gemini API Key"框中输入密钥
   - 测试连接确认可用

#### 选项3：Kimi（月之暗面）
1. **获取API密钥**
   - 访问：https://platform.moonshot.cn/
   - 注册并获取API密钥

2. **配置密钥**
   - 在"Kimi API Key"框中输入密钥
   - 测试连接

### 完成配置
- 至少配置一个LLM API密钥后，点击"保存配置"
- 系统会验证配置并跳转到主页面

---

## 📊 第七步：创建第一个分析任务

### 进入任务管理
1. 在主页面点击"任务管理"
2. 或直接访问：http://localhost:8080/tasks

### 创建新任务
1. **点击"🚀 新建任务"按钮**

2. **填写基础信息**
   - **任务名称**：给任务起个名字，如"测试分析"
   
3. **选择分析群聊**
   - 如果配置了ChatLog，会显示可用的群聊列表
   - 勾选您想要分析的群聊
   - 可以使用搜索框快速查找群聊

4. **设置执行时间**
   - **单次执行**：选择一个未来的时间点执行
   - **每日执行**：每天定时执行
   - **每周执行**：每周特定时间执行

5. **配置分析参数**
   - **分析时间范围**：选择要分析的聊天记录时间段
     - 最近1天/3天/7天/15天/30天
     - 自定义时间范围
     - 所有时间
   
   - **LLM模型**：选择用于分析的AI模型
     - DeepSeek Chat（通用推荐）
     - DeepSeek Reasoner（复杂分析）
     - Gemini 2.5 Pro（专业分析）
     - 其他可用模型

   - **分析模板**：选择预设的分析场景
     - 通用分析（推荐新手）
     - 话题挖掘
     - 用户行为分析
     - 商务机会识别
     - 情感氛围分析
     - 自定义模板

6. **保存任务**
   - 检查所有配置无误后，点击"创建任务"
   - 系统会验证配置并创建任务

---

## ⏰ 第八步：执行任务和查看结果

### 方式1：等待定时执行
- 如果设置了定时执行，任务会在指定时间自动运行
- 在任务列表中可以看到任务状态变化：
  - ⏳ 未开始 → 🔄 正在分析中 → 🎉 已完成

### 方式2：立即执行
- 在任务列表中找到您的任务
- 点击"⚡ 执行"按钮立即运行
- 观察进度状态的实时更新

### 查看分析报告
1. **进入报告中心**
   - 点击导航栏的"报告中心"
   - 或访问：http://localhost:8080/reports

2. **查找您的报告**
   - 报告按执行时间排序显示
   - 可以按群聊名称、时间等条件筛选

3. **查看报告内容**
   - 点击"👁️ 预览"在线查看报告
   - 点击"📥 下载"保存到本地
   - 报告包含详细的群聊分析结果

---

## 🔧 常见问题解决

### 问题1：启动脚本运行失败
**现象**：双击启动脚本后立即关闭或报错

**解决方案**：
1. 确认Node.js已正确安装（运行`node --version`检查）
2. 以管理员身份运行启动脚本
3. 检查项目文件是否完整
4. 查看错误信息，按提示操作

### 问题2：依赖安装失败
**现象**：显示"❌ 依赖安装失败"

**解决方案**：
1. 检查网络连接是否正常
2. 尝试使用国内镜像：
   ```bash
   npm install --registry https://registry.npmmirror.com
   ```
3. 清除npm缓存：
   ```bash
   npm cache clean --force
   ```
4. 删除node_modules文件夹后重新运行启动脚本

### 问题3：无法访问网页
**现象**：浏览器显示"无法访问此网站"

**解决方案**：
1. 确认启动脚本正在运行（不要关闭命令行窗口）
2. 检查端口8080是否被其他程序占用
3. 尝试访问：http://127.0.0.1:8080
4. 关闭防火墙或杀毒软件的网络拦截

### 问题4：ChatLog连接失败
**现象**：配置页面显示ChatLog连接测试失败

**解决方案**：
1. 确认ChatLog服务正在运行
2. 检查地址是否正确（通常是http://127.0.0.1:5030）
3. 暂时跳过ChatLog配置，使用内置测试数据
4. 查看ChatLog的使用文档，确保正确安装

### 问题5：LLM API连接失败
**现象**：API密钥测试失败

**解决方案**：
1. 检查API密钥是否正确复制（注意不要有多余空格）
2. 确认API密钥有足够的余额或配额
3. 检查网络是否能访问对应的API服务
4. 尝试配置其他LLM服务作为备选

### 问题6：任务执行失败
**现象**：任务状态显示"💥 执行失败"

**解决方案**：
1. 检查LLM API密钥是否有效
2. 确认选择的群聊有足够的聊天记录
3. 查看实时日志了解具体错误信息
4. 尝试使用不同的LLM模型或分析模板

---

## 💡 使用技巧

### 技巧1：选择合适的分析时间范围
- **新手建议**：先选择"最近7天"进行测试
- **数据量大**：选择较短时间范围，避免超出API限制
- **深度分析**：选择"最近30天"或自定义范围

### 技巧2：选择合适的LLM模型
- **日常分析**：DeepSeek Chat（性价比高）
- **复杂分析**：DeepSeek Reasoner或Gemini 2.5 Pro
- **快速测试**：Gemini 2.0 Flash（响应快）

### 技巧3：优化分析效果
- 选择活跃度高的群聊进行分析
- 使用合适的分析模板匹配您的需求
- 定期清理无用的任务和报告

### 技巧4：节省API费用
- 避免重复分析相同的时间段
- 选择合适的时间范围，不要过长
- 优先使用成本较低的模型进行测试

---

## 🎉 恭喜完成！

如果您已经成功完成以上步骤，恭喜您已经掌握了微信群聊智能分析平台的基本使用方法！

### 接下来您可以：
1. **探索更多功能**：尝试不同的分析模板和参数
2. **批量分析**：创建多个任务分析不同群聊
3. **定时分析**：设置定期分析任务，持续跟踪群聊动态
4. **导出报告**：将分析结果保存或分享给他人

### 需要帮助？
- 查看项目的README.md文件了解更多技术细节
- 查看任务追踪文档了解项目发展状态
- 遇到问题可以查看应用日志获取详细错误信息

**祝您使用愉快！** 🎊